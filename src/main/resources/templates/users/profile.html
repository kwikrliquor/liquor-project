<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="partials::head('My Account')"></head>
<body>
<div th:replace="partials::header"></div>
<div th:replace="partials::navbar"></div>
<main role="main" class="uk-container">
    <div class="uk-grid-small uk-child-width-expand@s uk-grid" sec:authorize="hasRole('ROLE_CUSTOMER')">
        <div>
            <div sec:authorize="hasRole('ROLE_CUSTOMER')">
                <!--<div class="uk-form-width-medium" th:object="${user}">-->
                <h1>Profile</h1>
                Username:
                <label class="uk-label" th:text="${#authentication.principal.username}" />
                <br />
                Email:
                <label class="uk-label" th:text="${#authentication.principal.email}" />
                <br />
                First Name:
                <label class="uk-label" th:text="${#authentication.principal.first_name}" />
                <br />
                Last Name:
                <label class="uk-label" th:text="${#authentication.principal.last_name}" />
                <br />
                Address 1:
                <label class="uk-label" th:text="${#authentication.principal.address1}" />
                <br />
                Address 2:
                <label class="uk-label" th:text="${#authentication.principal.address2}" />
                <br />
                City:
                <label class="uk-label" th:text="${#authentication.principal.city}" />
                <br />
                State:
                <label class="uk-label" th:text="${#authentication.principal.state}" />
                <br />
                Zip Code:
                <label class="uk-label" th:text="${#authentication.principal.postalCode}" />
                <br />
                Phone Number:
                <label class="uk-label" th:text="${#authentication.principal.phone_number}" />
                <br />
                DOB:
                <label type="date" class="uk-label" th:text="${#authentication.principal.dob}" />
                <br />
            </div>

            <div sec:authorize="hasRole('ROLE_ADMIN')">
                <!--<div class="uk-form-width-medium" th:object="${user}">-->
                <h1>Profile</h1>
                Username:
                <label class="uk-label" th:text="${#authentication.principal.username}" />
                <br />

            </div>

            <a href="/profile/edit"><input type="button" class="uk-button-small uk-border-rounded uk-align-center" value="Edit Profile" /></a>
        </div>

        <div>
            <div class="uk-align-right">
                <img th:src="${userInfo.img_url}" style="width: 150px; height: 100px;" alt="" />
                <form th:action="@{/profile}" method="POST">
                    <input type="hidden" class="uk-input uk-border-rounded" id="upload_url" name="upload_url" />
                    <input type="button" name="upload_id" id="upload_id" value="Upload ID" onclick="openPick()" />
                    <input type="submit" value="Submit ID" />
                </form>
            </div>
        </div>
    </div>
</main><!-- /.container -->
<div th:replace="partials::footer"></div>
<div th:replace="partials::scripts"></div>

<!--<script>-->
    <!--var url = “”;-->
    <!--var fileStack = document.getElementById(“filestack”);-->
    <!--fileStack.addEventListener(‘click’, function () {-->
        <!--const apikey = ‘AZpH4QD4CQTyWCvqtlovwz’;-->
        <!--const client = filestack.init(apikey);-->
        <!--const options = {-->
            <!--maxFiles: 20,-->
            <!--uploadInBackground: false,-->
            <!--onOpen: () => console.log(‘opened!’),-->
        <!--onUploadDone: (res) => url = res.filesUploaded[0].url,-->
    <!--};-->
        <!--console.log(url);-->
        <!--client.picker(options).open();-->
    <!--});-->
    <!--document.getElementById(“submit”).addEventListener(“click”, function () {-->
        <!--document.getElementById(“fileStackUrl”).value = url;-->
    <!--});-->
    <!--let change = () => {-->
        <!--document.getElementById(“filestack”).innerText =“Change Picture”;-->
    <!--}-->
<!--</script>-->



</body>
</html>
